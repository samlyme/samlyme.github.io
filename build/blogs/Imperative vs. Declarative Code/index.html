<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sam Ly - Imperative vs. Declarative Code</title>
    <link rel="stylesheet" href="/style.css">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Imperative vs. Declarative Code</h1>
    </header>
    <main>
        <p>The most fundamental difference between imperative and declarative code is that imperative code tells the computer <em>how</em> to achieve a certain goal, while declarative code tells the computer <em>what</em> a certain goal is, and the computer will achieve that goal for you. Another way to conceptualize this is that with declarative code, the computer "knows" what the goal is, while with imperative code, the computer doesn't know what the end goal is, and is simply following your instructions.</p>
<p>Imagine you have a robot that can make you sandwiches. You tell the robot "make me a PB&amp;J sandwich." The robot obliges and makes you a PB&amp;J. Here, the command that you gave the robot was <strong>declarative</strong> because it told the robot <em>what</em> goal to achieve.</p>
<p>If instead, you told the robot "Put a piece of bread on a plate. Spread peanut butter on that piece of bread. Get another piece of bread and put it on the plate. Spread jelly on that piece of bread. Put the pieces of bread together." the command that you gave the robot was <strong>imperative</strong> because the robot does not know what the end goal is, and is just following your instructions.</p>
<p>When writing imperative code, you are <strong>instructing</strong> the computer to get it to perform a task, while with declarative code, you are <strong>describing</strong> the task, or in other words, <em>declaring</em> the your intent.</p>
<h2>Example</h2>
<p>Let's say you have an array of strings in JS, and your goal is to print out all strings to the console.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Apple"</span><span class="token punctuation">,</span> <span class="token string">"Banana"</span><span class="token punctuation">,</span> <span class="token string">"Pear"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Imperative for-loop</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Declarative for-loop</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
 <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>The first example is imperative because you are instructing the computer to iterate through the array and print out the item at each index, however that program segment doesn't "know" the end goal, which is to print out every string in array <code>arr</code>.  The program only knows to go to each index in the array and print out the value. Only you know the end goal, and the code "trusts" you to correctly implement that goal.</p>
<p>The second example is declarative because you tell the computer to print out each item in the array <code>arr</code>. The code "knows" the end goal, and the you place trust in the computer that it knows how to handle that goal.</p>
<h2>Pros and cons of each</h2>
<p>Because imperative code places trust in the developer, it is more prone to human error.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// The end condition will cause an array out of bounds error</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Using <code>i &lt;= arr.length</code> is an extremely common "off by one" error. This only happens because the computer trusts that the developer can implement a specific goal correctly.</p>
<p>However, the greater trust placed in the developer also allows for greater power for the developer. For example, if developer needs to access multiple items in an array in one iteration, imperative code will almost always be written.</p>
<p>Imagine you need to print out the sum of consecutive integers in an array. The imperative implementation is fairly simple.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Imperative</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Because imperative code places more trust on the developer, it is often more versatile, but can also be more error-prone. On the other hand, because declarative code places less trust in the developer, it is less error prone, but can be limited by the features of the programming language.</p>
<h2>Stateful data</h2>
<p>Because imperative code deals with <em>how</em> a goal is being accomplished, the management of the data's state is left to the developer. The developer is trusted with ensuring that the state of the data is valid.</p>
<p>For example, in an imperative for-loop iterating over an array, the state of the loop variable determines where in the array a particular iteration of the loop will access. The developer is trusted with properly managing the state of that loop variable to achieve the end goal.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// The bounds and management of the state of i is up to you!</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// Some code...</span>
<span class="token punctuation">}</span>

<span class="token comment">// You can even set i to an invalid value and break the program!</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 i <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Because the code doesn't know what the end goal of the code is, it can't assume anything that you are doing is wrong.</p>
<p>In comparison, iterating over an array using a declarative for-loop places zero trust in the developer to manage the loop variable. The declarative for-loop has a goal, and it will achieve that goal, and the developer is not allowed to interfere.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// This gives the developer less trust so now they can't break it if they tried.</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
 <span class="token punctuation">(</span><span class="token parameter">s</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>The <code>.forEach</code> loop has a clear goal. Its goal is to iterate over each element, so the computer knows what to do. Because the computer knows what to do, the developer is not allowed to interfere.</p>
<h2>Abstraction</h2>
<p>Abstraction is when a complex set of operations are bundled together so that they can be used with less effort.</p>
<p>This is code to find the GCD between two numbers <code>num1</code> and <code>num2</code>.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> num1 <span class="token operator">=</span> <span class="token number">252</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> num2 <span class="token operator">=</span> <span class="token number">105</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Calculate GCD</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> b <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">!=</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token operator">-=</span>b<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">else</span> <span class="token punctuation">{</span>
  b<span class="token operator">-=</span>a<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token constant">GCD</span> <span class="token operator">=</span> a <span class="token operator">||</span> b<span class="token punctuation">;</span></code></pre>
<p>In this (contrived) example, the developer that needs <code>num1</code> and <code>num2</code> needs to understand how the GCD calculation works.</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// in index.js</span>
<span class="token keyword">import</span> findGCD <span class="token keyword">from</span> <span class="token string">"./utils.js"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> num1 <span class="token operator">=</span> <span class="token number">252</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> num2 <span class="token operator">=</span> <span class="token number">105</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">GCD</span> <span class="token operator">=</span> <span class="token function">findGCD</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="language-js"><code class="language-js"><span class="token comment">// in utils.js file</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">findGCD</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">let</span> a <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">let</span> b <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">while</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> b <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">!==</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
         a<span class="token operator">-=</span>b<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
         b<span class="token operator">-=</span>a<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> a <span class="token operator">||</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>Here, the functionality for finding GCD is abstracted into a function. The name of the function gives other devs a clear indication to the "end goal" of the function. Other devs can now declaratively state that they would like the GCD between two numbers, without having to understand the implementation themselves.</p>
<p><strong>In a sense, by abstracting away code complexity, we make our code "more declarative". However, this code can't be considered truly declarative.</strong></p>
<h3>Abstraction Cont</h3>
<p>This idea of abstraction is applied everywhere in programming. When you declare a variable, the computer will actually find space in memory, allocate that space, then give access to that memory to the current program thread.</p>
<p>This process is <em>abstracted</em> away from the developer. The developer places trust in the computer that it will accomplish the goal of creating a variable, instead of the computer placing trust in the developer to properly manage memory.</p>
<p>The more abstractions, the "higher level" the language. A "high level" language is filled with these abstractions, while a "low level" has less of these abstractions.</p>
<p>Low level languages place more trust in the developer, similar to how imperative code places more trust in the developer, while high level languages place less trust in the developer, similar to how declarative code places less trust in the developer.</p>

    </main>

    <hr>
    <footer>
        <a href="/">home</a> | <a href="/contact">contact</a> | <a href="/blogs">blogs</a>
    </footer>
</body>
</html>
